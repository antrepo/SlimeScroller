/*!
 * Slime touch scroller
 * v. 0.10.3 | https://github.com/wilddeer/SlimeScroller
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * Depends on Event Burrito | https://github.com/wilddeer/Event-Burrito
 * MIT License
 */
function SlimeScroller(a,b){function c(a,b){for(key in b)b.hasOwnProperty(key)&&(a[key]=b[key])}function d(a){var b=["Webkit","Moz","O","ms"],c=document.createElement("div");if(void 0!==c.style[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var d in b)if(void 0!==c.style[b[d]+a])return b[d]+a;return!1}function e(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.addEventListener?a.addEventListener(b[e],c,!!d):a.attachEvent("on"+b[e],c)}function f(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.removeEventListener?a.removeEventListener(b[e],c,!!d):a.detachEvent("on"+b[e],c)}function g(a,b){new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)}function h(a,b){a.className=a.className.replace(new RegExp("(\\s+|^)"+b+"(\\s+|$)","g")," ").replace(/^\s+|\s+$/g,"")}function i(a,b){x.style[L.transition+"Duration"]=b?b+"ms":"",k(Math.floor(a))}function j(a,b){if(a=Math.floor(a),w&&clearInterval(w),!b)return void k(a);var c=+new Date,d=I;w=setInterval(function(){function e(a,b){return(b-a)*i+a}var f,g,h=+new Date-c,i=h/b,j=[0,.7,1,1];return i>=1?(k(a),void clearInterval(w)):(f=a-d,g=e(e(e(j[0],j[1]),e(j[1],j[2])),e(e(j[1],j[2]),e(j[2],j[3]))),void k(Math.floor(g*f+d)))},15)}function k(a){x.style[L.transform]="translateX("+a+"px)",I=a}function l(a){x.style.left=a+"px",I=a}function m(){return parseFloat(getComputedStyle(x)[L.transform].split(/,\s*/)[4])}function n(){return I}function o(a,b){a>0?a=0:B>a&&(a=B),i(a,void 0!==b?b:E)}function p(a,b){o(-a.offsetLeft,void 0!==b?b:E)}function q(a,b,c){var d=-a.offsetLeft+(b||J.borderPadding),e=a.offsetWidth+2*(b||J.borderPadding);d>I?o(d,void 0!==c?c:E):I-A>d-e&&o(d-e+A,void 0!==c?c:E)}function r(){var b;C=EventBurrito(a,{clickTolerance:5,start:function(){g(a,K.drag),i(b=m())},move:function(a,c,d){var e=b+d.x,f=Math.max(e,0)||Math.min(e-B,0);Math.abs(d.x)<6&&d.time<150||(d.x-=f-f/(Math.abs(f)/A*2+1),i(b+d.x))},end:function(b,c,d,g){if(h(a,K.drag),!(Math.abs(d.x)<6&&d.time<150)){g.x/=2;var j=g.x*Math.pow(Math.abs(g.x),.5)*E/2,k=I+j,l=Math.abs(Math.max(k,0)||Math.min(k-B,0)),m=Math.min(l*G,H),n=l-m,o=Math.max(0,E-n/(Math.abs(j)+1)*E);k>0?!function(){function a(){i(0,F),f(x,"transitionend webkitTransitionEnd",a)}o?(i(m,o),e(x,"transitionend webkitTransitionEnd",a)):a()}():B>k?!function(){function a(){i(B,F),f(x,"transitionend webkitTransitionEnd",a)}o?(i(B-m,o),e(x,"transitionend webkitTransitionEnd",a)):a()}():i(k,E)}},click:function(a){J.onClick(a)}})}function s(){t(),u(),o(I,0),z&&J.disableIfFit||C?z&&C&&(C.kill(),C=void 0,h(a,K.touch)):(r(),g(a,K.touch))}function t(){A=a.offsetWidth,y=x.offsetWidth,B=A-y}function u(){return z=A>=y}function v(){(!L.transform||window.opera)&&(k=l),(!L.transition||window.opera)&&(i=j),L.transform&&!window.opera&&window.getComputedStyle||(m=n),x=document.createElement("div");for(var b=0,c=a.children.length;c>b;b++)x.appendChild(a.children[0]);a.appendChild(x);for(var d=x.getElementsByTagName("img"),b=d.length-1;b>=0;b--)e(x,"load error",s);e(a,"focus",function(b){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),b.target&&q(b.target)},!0),g(x,K.scroller),g(a,K.active),h(a,K.inactive),s(),e(window,"resize",s),e(window,"orientationchange",s),setTimeout(function(){J.onSetup&&J.onSetup()},0)}var w,x,y,z,A,B,C,D=function(){},E=400,F=300,G=1/(E/60),H=150,I=0,J={cssPrefix:"slime-",borderPadding:24,disableIfFit:!0,onClick:D,onSetup:void 0};b&&c(J,b);var K={inactive:J.cssPrefix+"inactive",active:J.cssPrefix+"active",drag:J.cssPrefix+"drag",touch:J.cssPrefix+"touch",scroller:J.cssPrefix+"scroller"},L={transform:d("transform"),transition:d("transition")};return v(),{getClicksAllowed:function(){return C.getClicksAllowed()},scrollTo:o,scrollToElement:p,moveElementToViewport:q,recalcWidth:s}}