/*!
 * Slime touch scroller
 * v. 0.11.3 | https://github.com/wilddeer/SlimeScroller
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * Depends on Event Burrito | https://github.com/wilddeer/Event-Burrito
 * MIT License
 */
function Slime(a,b){function c(a,b){for(key in b)b.hasOwnProperty(key)&&(a[key]=b[key])}function d(a){var b=["Webkit","Moz","O","ms"],c=document.createElement("div");if(void 0!==c.style[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var d in b)if(void 0!==c.style[b[d]+a])return b[d]+a;return!1}function e(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.addEventListener?a.addEventListener(b[e],c,!!d):a.attachEvent("on"+b[e],c)}function f(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.removeEventListener?a.removeEventListener(b[e],c,!!d):a.detachEvent("on"+b[e],c)}function g(a,b){new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)}function h(a,b){a.className=a.className.replace(new RegExp("(\\s+|^)"+b+"(\\s+|$)","g")," ").replace(/^\s+|\s+$/g,"")}function i(a,b){B.style[M.transition+"Duration"]=b?b+"ms":"",k(Math.floor(a))}function j(a,b){if(a=Math.floor(a),A&&clearInterval(A),!b)return void k(a);var c=+new Date,d=K;A=setInterval(function(){function e(a,b){return(b-a)*i+a}var f,g,h=+new Date-c,i=h/b,j=[0,.7,1,1];return i>=1?(k(a),void clearInterval(A)):(f=a-d,g=e(e(e(j[0],j[1]),e(j[1],j[2])),e(e(j[1],j[2]),e(j[2],j[3]))),void k(Math.floor(g*f+d)))},15)}function k(a){B.style[M.transform]="translateX("+a+"px)",K=a,z.onPosChange(-a)}function l(a){B.style.left=a+"px",K=a,z.onPosChange(-a)}function m(a,b,c){function d(){i(c,H),f(B,"transitionend webkitTransitionEnd",d)}a?(i(b,a),e(B,"transitionend webkitTransitionEnd",d)):d()}function n(a,b,c){a&&i(b,a),setTimeout(function(){i(c,H)},a)}function o(){return parseFloat(getComputedStyle(B)[M.transform].split(/,\s*/)[4])}function p(){return K}function q(a,b){a>0?a=0:F>a&&(a=F),i(a,void 0!==b?b:z.transitionSpeed)}function r(a,b){q(-a.offsetLeft,void 0!==b?b:z.transitionSpeed)}function s(a,b,c){var d=-a.offsetLeft+(void 0!==b?b:z.borderPadding),e=a.offsetWidth+2*(void 0!==b?b:z.borderPadding);d>K?q(d,void 0!==c?c:z.transitionSpeed):K-E>d-e&&q(d-e+E,void 0!==c?c:z.transitionSpeed)}function t(){var b;G=EventBurrito(a,{clickTolerance:5,start:function(){g(a,L.grabbing),i(b=o())},move:function(a,c,d){var e=b+d.x,f=Math.max(e,0)||Math.min(e-F,0);Math.abs(d.x)<6&&d.time<150||(d.x-=f-f/(Math.abs(f)/E*2+1),i(b+d.x))},end:function(b,c,d,e){if(h(a,L.grabbing),!(Math.abs(d.x)<6&&d.time<150)){e.x/=2;var f=e.x*Math.pow(Math.abs(e.x),.5)*z.transitionSpeed/2,g=K+f,j=Math.abs(Math.max(g,0)||Math.min(g-F,0)),k=Math.min(j*I,J),l=j-k,n=Math.max(0,z.transitionSpeed-l/(Math.abs(f)+1)*z.transitionSpeed);g>0?m(n,k,0):F>g?m(n,F-k,F):i(g,z.transitionSpeed)}},click:function(a){z.onClick(a)}})}function u(){v(),w(),q(K,0),D&&z.disableIfFit||G?D&&G&&z.disableIfFit&&(G.kill(),G=void 0,h(a,L.drag)):(t(),g(a,L.drag))}function v(){E=a.offsetWidth,C=B.offsetWidth,F=E-C}function w(){return D=E>=C}function x(){(!M.transform||window.opera)&&(k=l),(!M.transition||window.opera)&&(i=j,m=n),M.transform&&!window.opera&&window.getComputedStyle||(o=p),B=document.createElement("div");for(var b=0,c=a.children.length;c>b;b++)B.appendChild(a.children[0]);a.appendChild(B);for(var d=B.getElementsByTagName("img"),b=d.length-1;b>=0;b--)e(d[b],"load error",u);e(a,"focus",function(b){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),b.target&&s(b.target)},!0),g(B,L.scroller),g(a,L.active),h(a,L.inactive),u(),e(window,"resize",u),e(window,"orientationchange",u),setTimeout(function(){z.onSetup()},0)}var y=function(){},z={transitionSpeed:400,cssPrefix:"slime-",borderPadding:24,disableIfFit:!0,onClick:y,onSetup:y,onPosChange:y};b&&c(z,b);var A,B,C,D,E,F,G,H=300,I=1/(z.transitionSpeed/60),J=150,K=0,L={inactive:z.cssPrefix+"inactive",active:z.cssPrefix+"active",grabbing:z.cssPrefix+"grabbing",drag:z.cssPrefix+"drag",scroller:z.cssPrefix+"scroller"},M={transform:d("transform"),transition:d("transition")};return x(),{scrollTo:function(a){q(parseInt(-a,10))},scrollToElement:r,moveElementToViewport:s,getClicksAllowed:function(){return G.getClicksAllowed()},getPos:function(){return-o()},recalcWidth:u}}window.jQuery&&!function($){$.fn.Slime=function(a){return this.each(function(){$(this).data("Slime",Slime(this,a))}),this}}(window.jQuery);