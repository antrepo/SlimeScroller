/*!
 * Slime touch scroller
 * v. 0.10.0 | https://github.com/wilddeer/SlimeScroller
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * Depends on Event Burrito | https://github.com/wilddeer/Event-Burrito
 * MIT License
 */
function SlimeScroller(a,b){function c(a){var b=["Webkit","Moz","O","ms"],c=document.createElement("div");if(void 0!==c.style[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var d in b)if(void 0!==c.style[b[d]+a])return b[d]+a;return!1}function d(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.addEventListener?a.addEventListener(b[e],c,!!d):a.attachEvent("on"+b[e],c)}function e(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.removeEventListener?a.removeEventListener(b[e],c,!!d):a.detachEvent("on"+b[e],c)}function f(a,b){new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)}function g(a,b){a.className=a.className.replace(new RegExp("(\\s+|^)"+b+"(\\s+|$)","g")," ").replace(/^\s+|\s+$/g,"")}function h(a,b){w.style[K.transition+"Duration"]=b?b+"ms":"",j(Math.floor(a))}function i(a,b){if(a=Math.floor(a),v&&clearInterval(v),!b)return void j(a);var c=+new Date,d=I;v=setInterval(function(){function e(a,b){return(b-a)*i+a}var f,g,h=+new Date-c,i=h/b,k=[0,.7,1,1];return i>=1?(j(a),void clearInterval(v)):(f=a-d,g=e(e(e(k[0],k[1]),e(k[1],k[2])),e(e(k[1],k[2]),e(k[2],k[3]))),void j(Math.floor(g*f+d)))},15)}function j(a){w.style[K.transform]="translateX("+a+"px)",I=a}function k(a){w.style.left=a+"px",I=a}function l(){return parseFloat(getComputedStyle(w)[K.transform].split(/,\s*/)[4])}function m(){return I}function n(a,b){a>0?a=0:A>a&&(a=A),h(a,void 0!==b?b:E)}function o(a,b){n(-a.offsetLeft,void 0!==b?b:E)}function p(a,b,c){var d=-a.offsetLeft+(b||D.borderPadding),e=a.offsetWidth+2*(b||D.borderPadding);d>I?n(d,void 0!==c?c:E):I-z>d-e&&n(d-e+z,void 0!==c?c:E)}function q(){var b;B=EventBurrito(a,{clickTolerance:5,start:function(){f(a,J.drag),h(b=l())},move:function(a,c,d){var e=b+d.x,f=Math.max(e,0)||Math.min(e-A,0);Math.abs(d.x)<6&&d.time<150||(d.x-=f-f/(Math.abs(f)/z*2+1),h(b+d.x))},end:function(b,c,f,i){if(g(a,J.drag),!(Math.abs(f.x)<6&&f.time<150)){i.x/=2;var j=i.x*Math.pow(Math.abs(i.x),.5)*E/2,k=I+j,l=Math.abs(Math.max(k,0)||Math.min(k-A,0)),m=Math.min(l*G,H),n=l-m,o=Math.max(0,E-n/(Math.abs(j)+1)*E);k>0?!function(){function a(){h(0,F),e(w,"transitionend webkitTransitionEnd",a)}o?(h(m,o),d(w,"transitionend webkitTransitionEnd",a)):a()}():A>k?!function(){function a(){h(A,F),e(w,"transitionend webkitTransitionEnd",a)}o?(h(A-m,o),d(w,"transitionend webkitTransitionEnd",a)):a()}():h(k,E)}},click:function(a){D.onClick(a)}})}function r(){s(),t(),n(I,0),y&&D.disableIfFit||B?y&&B&&(B.kill(),B=void 0,g(a,J.touch)):(q(),f(a,J.touch))}function s(){z=a.offsetWidth,x=w.offsetWidth,A=z-x}function t(){return y=z>=x}function u(){(!K.transform||window.opera)&&(j=k),(!K.transition||window.opera)&&(h=i),K.transform&&!window.opera&&window.getComputedStyle||(l=m),w=document.createElement("div");for(var b=0,c=a.children.length;c>b;b++)w.appendChild(a.children[0]);a.appendChild(w);for(var e=w.getElementsByTagName("img"),b=e.length-1;b>=0;b--)d(w,"load error",r);d(a,"focus",function(b){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),b.target&&p(b.target)},!0),f(w,J.scroller),f(a,J.active),g(a,J.inactive),r(),d(window,"resize",r),d(window,"orientationchange",r)}var v,w,x,y,z,A,B,C=function(){},D=b||{},E=400,F=300,G=1/(E/60),H=150,I=0;D.cssPrefix=void 0!==D.cssPrefix?D.cssPrefix:"slime-",D.borderPadding=void 0!==D.borderPadding?D.borderPadding:24,D.disableIfFit=void 0!==D.disableIfFit?D.disableIfFit:!0,D.onClick=D.onClick||C;var J={inactive:D.cssPrefix+"inactive",active:D.cssPrefix+"active",drag:D.cssPrefix+"drag",touch:D.cssPrefix+"touch",scroller:D.cssPrefix+"scroller"},K={transform:c("transform"),transition:c("transition")};return u(),{getClicksAllowed:function(){return B.getClicksAllowed()},scrollTo:n,scrollToElement:o,moveElementToViewport:p}}