/*!
 * Slime touch scroller
 * v. 0.9.0 | https://github.com/wilddeer/SlimeScroller
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * Depends on Event Burrito | https://github.com/wilddeer/Event-Burrito
 * MIT License
 */
function SlimeScroller(a,b){function c(a){var b=["Webkit","Moz","O","ms"],c=document.createElement("div");if(void 0!==c.style[a])return!0;a=a.charAt(0).toUpperCase()+a.slice(1);for(var d in b)if(void 0!==c.style[b[d]+a])return!0;return!1}function d(a,b,c,d){b&&(a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c))}function e(a,b){-1===(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=(a.className+" "+b).replace(/^\s+|\s+$/g,""))}function f(a,b){a.className=(" "+a.className+" ").replace(" "+b+" "," ").replace(/^\s+|\s+$/g,"")}function g(a,b){var c=b?b+"ms":"";s.style.webkitTransitionDuration=s.style.MozTransitionDuration=s.style.msTransitionDuration=s.style.OTransitionDuration=s.style.transitionDuration=c,i(Math.floor(a))}function h(a,b){if(a=Math.floor(a),r&&clearInterval(r),!b)return void i(a);var c=+new Date,d=A;r=setInterval(function(){function e(a,b){return(b-a)*j+a}var f,g,h=+new Date-c,j=h/b,k=[0,.7,1,1];return j>=1?(i(a),void clearInterval(r)):(f=a-d,g=e(e(e(k[0],k[1]),e(k[1],k[2])),e(e(k[1],k[2]),e(k[2],k[3]))),void i(Math.floor(g*f+d)))},15)}function i(a){s.style.webkitTransform="translate("+a+"px,0) translateZ(0)",s.style.msTransform=s.style.MozTransform=s.style.OTransform=s.style.transform="translateX("+a+"px)",A=a}function j(a){s.style.left=a+"px",A=a}function k(a){a>0?a=0:v>a&&(a=v),g(a,z)}function l(a){k(-a.offsetLeft)}function m(a,b){var c=-a.offsetLeft+(b||y.borderPadding),d=a.offsetWidth+2*(b||y.borderPadding);c>A?k(c):A-u>c-d&&k(c-d+u)}function n(){var b;w=EventBurrito(a,{clickTolerance:5,start:function(){e(a,B.drag),b=A},move:function(a,c,d){var e=b+d.x,f=Math.max(e,0)||Math.min(e-v,0);Math.abs(d.x)<6&&d.time<150||(d.x-=f-f/(Math.abs(f)/u*2+1),g(b+d.x))},end:function(b,c,d,e){if(f(a,B.drag),!(Math.abs(d.x)<6&&d.time<150)){Math.abs(e.x)<.5&&(e.x/=2),e.x/=2;var h=e.x*Math.pow(Math.abs(e.x),.5)*z/1.5,i=A+h,j=Math.abs(Math.max(i,0)||Math.min(i-v,0)),k=Math.min(j/5,150),l=j-k,m=Math.max(0,z-l/(Math.abs(h)+1)*z);i>0?(m&&g(k,m),setTimeout(function(){g(0,z)},m)):v>i?(m&&g(v-k,m),setTimeout(function(){g(v,z)},m)):g(i,z)}},click:function(a){y.onClick(a)}})}function o(){p(),k(A)}function p(){u=a.offsetWidth,t=s.offsetWidth,v=u-t}function q(){(!C.transforms||window.opera)&&(i=j),(!C.transitions||window.opera)&&(g=h),s=a.children[0],d(a,"focus",function(b){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),b.target&&m(b.target)},!0),e(s,B.scroller),e(a,B.active),f(a,B.inactive),p(),n(),d(window,"resize",o),d(window,"orientationchange",o)}var r,s,t,u,v,w,x=function(){},y=b||{},z=300,A=0;y.cssPrefix=y.cssPrefix||"",y.borderPadding=y.borderPadding||24,y.onClick=y.onClick||x;var B={inactive:y.cssPrefix+"inactive",active:y.cssPrefix+"active",drag:y.cssPrefix+"drag",scroller:y.cssPrefix+"scroller"},C={transforms:c("transform"),transitions:c("transition")};return q(),{getClicksAllowed:function(){return w.getClicksAllowed()},scrollTo:k,scrollToElement:l,moveElementToViewport:m}}