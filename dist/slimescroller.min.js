/*!
 * Slime touch scroller
 * v. 0.9.0 | https://github.com/wilddeer/SlimeScroller
 * Copyright Oleg Korsunsky | http://wd.dizaina.net/
 *
 * Depends on Event Burrito (included) | https://github.com/wilddeer/Event-Burrito
 * MIT License
 */
function SlimeScroller(a,b){function c(a){var b=["Webkit","Moz","O","ms"],c=document.createElement("div");if(void 0!==c.style[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var d in b)if(void 0!==c.style[b[d]+a])return b[d]+a;return!1}function d(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.addEventListener?a.addEventListener(b[e],c,!!d):a.attachEvent("on"+b[e],c)}function e(a,b,c,d){if(b=b.split(" "))for(var e=b.length-1;e>=0;e--)a.removeEventListener?a.removeEventListener(b[e],c,!!d):a.detachEvent("on"+b[e],c)}function f(a,b){new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)}function g(a,b){a.className=a.className.replace(new RegExp("(\\s+|^)"+b+"(\\s+|$)","g")," ").replace(/^\s+|\s+$/g,"")}function h(a,b){var c=b?b+"ms":"";v.style[I.transition+"Duration"]=c,j(Math.floor(a))}function i(a,b){if(a=Math.floor(a),u&&clearInterval(u),!b)return void j(a);var c=+new Date,d=G;u=setInterval(function(){function e(a,b){return(b-a)*i+a}var f,g,h=+new Date-c,i=h/b,k=[0,.7,1,1];return i>=1?(j(a),void clearInterval(u)):(f=a-d,g=e(e(e(k[0],k[1]),e(k[1],k[2])),e(e(k[1],k[2]),e(k[2],k[3]))),void j(Math.floor(g*f+d)))},15)}function j(a){v.style[I.transform]="translateX("+a+"px)",G=a}function k(a){v.style.left=a+"px",G=a}function l(){return parseFloat(getComputedStyle(v)[I.transform].split(/,\s*/)[4])}function m(){return G}function n(a){a>0?a=0:y>a&&(a=y),h(a,C)}function o(a){n(-a.offsetLeft)}function p(a,b){var c=-a.offsetLeft+(b||B.borderPadding),d=a.offsetWidth+2*(b||B.borderPadding);c>G?n(c):G-x>c-d&&n(c-d+x)}function q(){var b;z=EventBurrito(a,{clickTolerance:5,start:function(){f(a,H.drag),h(b=l())},move:function(a,c,d){var e=b+d.x,f=Math.max(e,0)||Math.min(e-y,0);Math.abs(d.x)<6&&d.time<150||(d.x-=f-f/(Math.abs(f)/x*2+1),h(b+d.x))},end:function(b,c,f,i){if(g(a,H.drag),!(Math.abs(f.x)<6&&f.time<150)){i.x/=2;var j=i.x*Math.pow(Math.abs(i.x),.5)*C/2,k=G+j,l=Math.abs(Math.max(k,0)||Math.min(k-y,0)),m=Math.min(l*E,F),n=l-m,o=Math.max(0,C-n/(Math.abs(j)+1)*C);k>0?B.timer?(console.log("tmr"),o&&h(m,o),setTimeout(function(){h(0,C)},o)):!function(){function a(){h(0,D),e(v,"transitionend webkitTransitionEnd",a)}o?(h(m,o),d(v,"transitionend webkitTransitionEnd",a)):a()}():y>k?B.timer?(console.log("tmr"),o&&h(y-m,o),setTimeout(function(){h(y,C)},o)):!function(){function a(){h(y,D),e(v,"transitionend webkitTransitionEnd",a)}o?(h(y-m,o),d(v,"transitionend webkitTransitionEnd",a)):a()}():h(k,C)}},click:function(a){B.onClick(a)}})}function r(){s(),n(G)}function s(){x=a.offsetWidth,w=v.offsetWidth,y=x-w}function t(){(!I.transform||window.opera)&&(j=k),(!I.transition||window.opera)&&(h=i),I.transform&&!window.opera&&window.getComputedStyle||(l=m),v=a.children[0];for(var b=v.getElementsByTagName("img"),c=b.length-1;c>=0;c--)d(v,"load error",r);d(a,"focus",function(b){a.scrollLeft=0,setTimeout(function(){a.scrollLeft=0},0),b.target&&p(b.target)},!0),f(v,H.scroller),f(a,H.active),g(a,H.inactive),s(),q(),d(window,"resize",r),d(window,"orientationchange",r)}var u,v,w,x,y,z,A=function(){},B=b||{},C=300,D=300,E=1/(C/60),F=150,G=0;B.cssPrefix=B.cssPrefix||"",B.borderPadding=B.borderPadding||24,B.onClick=B.onClick||A;var H={inactive:B.cssPrefix+"inactive",active:B.cssPrefix+"active",drag:B.cssPrefix+"drag",scroller:B.cssPrefix+"scroller"},I={transform:c("transform"),transition:c("transition")};return t(),{getClicksAllowed:function(){return z.getClicksAllowed()},scrollTo:n,scrollToElement:o,moveElementToViewport:p}}
function EventBurrito(a,b){function c(a,b,c,d){b&&(a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c))}function d(a,b,c,d){b&&(a.removeEventListener?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c))}function e(a){if(p={x:(m?a.clientX:a.touches[0].clientX)-o.x,y:(m?a.clientY:a.touches[0].clientY)-o.y,time:Number(new Date)-o.time},p.time-r[r.length-1].time){for(var b=0;b<r.length-1&&p.time-r[b].time>80;b++);q={x:(p.x-r[b].x)/(p.time-r[b].time),y:(p.y-r[b].y)/(p.time-r[b].time)},r.length>=5&&r.shift(),r.push({x:p.x,y:p.y,time:p.time})}}function f(a,b){s=!0,m=b,v[m](a)||(c(document,u[m][1],g),c(document,u[m][2],h),c(document,u[m][3],h),m&&(a.preventDefault?a.preventDefault():a.returnValue=!1),o={x:m?a.clientX:a.touches[0].clientX,y:m?a.clientY:a.touches[0].clientY,time:Number(new Date)},l=void 0,p={x:0,y:0,time:0},q={x:0,y:0},r=[{x:0,y:0,time:0}],j.start(a,o))}function g(a){!j.preventScroll&&l||v[m](a)||(e(a),(Math.abs(p.x)>j.clickTolerance||Math.abs(p.y)>j.clickTolerance)&&(s=!1),void 0===l&&3!==m&&(l=Math.abs(p.x)<Math.abs(p.y)&&!j.preventScroll)||(a.preventDefault?a.preventDefault():a.returnValue=!1,j.move(a,o,p,q)))}function h(a){m&&e(a),a.target&&a.target.blur&&a.target.blur(),i(),j.end(a,o,p,q)}function i(){d(document,u[m][1],g),d(document,u[m][2],h),d(document,u[m][3],h)}var j=b||{},k=function(){};j.clickTolerance=j.clickTolerance||0,j.preventScroll=j.preventScroll||!1,j.mouse=void 0===j.mouse?!0:j.mouse,j.start=j.start||k,j.move=j.move||k,j.end=j.end||k,j.click=j.click||k;var l,m,n={pointerEvents:!!window.navigator.pointerEnabled,msPointerEvents:!!window.navigator.msPointerEnabled},o={},p={},q={},r=[],s=!0,t=n.pointerEvents?1:n.msPointerEvents?2:0,u=[["touchstart","touchmove","touchend","touchcancel"],["pointerdown","pointermove","pointerup","pointercancel"],["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"],["mousedown","mousemove","mouseup",!1]],v=[function(a){return a.touches&&a.touches.length>1||a.scale&&1!==a.scale},function(a){return!a.isPrimary||1!==a.buttons||!j.mouse&&"touch"!==a.pointerType&&"pen"!==a.pointerType},function(a){return!a.isPrimary||a.buttons&&1!==a.buttons||!j.mouse&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH&&a.pointerType!==a.MSPOINTER_TYPE_PEN},function(a){return a.buttons&&1!==a.buttons}];return c(a,u[t][0],function(a){f(a,t)}),c(a,"dragstart",function(){event.preventDefault?event.preventDefault():event.returnValue=!1}),j.mouse&&!t&&c(a,u[3][0],function(a){f(a,3)}),c(a,"click",function(a){s?j.click(a):a.preventDefault?a.preventDefault():a.returnValue=!1}),{getClicksAllowed:function(){return s}}}